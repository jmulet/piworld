
(function(a,b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b(require("video.js"))}else{if(typeof define==="function"&&define.amd){define(["video_js"],function(c){return(a.Youtube=b(c))})}else{a.Youtube=b(a.videojs)}}}(this,function(f){var h=f.getComponent("Tech");var d=f.extend(h,{constructor:function(i,j){h.call(this,i,j);this.setPoster(i.poster);this.setSrc(this.options_.source,true);setTimeout(function(){this.el_.parentNode.className+=" vjs-youtube";if(b){this.el_.parentNode.className+=" vjs-youtube-mobile"}if(d.isApiReady){this.initYTPlayer()}else{d.apiReadyQueue.push(this)}}.bind(this))},dispose:function(){this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile","");this.el_.remove()},createEl:function(){var k=document.createElement("div");k.setAttribute("id",this.options_.techId);k.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute");k.setAttribute("class","vjs-tech");var i=document.createElement("div");i.appendChild(k);if(!b&&!this.options_.ytControls){var j=document.createElement("div");j.setAttribute("class","vjs-iframe-blocker");j.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%");j.onclick=function(){this.pause()}.bind(this);i.appendChild(j)}return i},initYTPlayer:function(){var i={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(typeof this.options_.autohide!=="undefined"){i.autohide=this.options_.autohide}if(typeof this.options_.cc_load_policy!=="undefined"){i.cc_load_policy=this.options_.cc_load_policy}if(typeof this.options_.ytControls!=="undefined"){i.controls=this.options_.ytControls}if(typeof this.options_.disablekb!=="undefined"){i.disablekb=this.options_.disablekb}if(typeof this.options_.end!=="undefined"){i.end=this.options_.end}if(typeof this.options_.color!=="undefined"){i.color=this.options_.color}if(!i.controls){i.fs=0}else{if(typeof this.options_.fs!=="undefined"){i.fs=this.options_.fs}}if(typeof this.options_.end!=="undefined"){i.end=this.options_.end}if(typeof this.options_.hl!=="undefined"){i.hl=this.options_.hl}else{if(typeof this.options_.language!=="undefined"){i.hl=this.options_.language.substr(0,2)}}if(typeof this.options_.iv_load_policy!=="undefined"){i.iv_load_policy=this.options_.iv_load_policy}if(typeof this.options_.list!=="undefined"){i.list=this.options_.list}else{if(this.url&&typeof this.url.listId!=="undefined"){i.list=this.url.listId}}if(typeof this.options_.listType!=="undefined"){i.listType=this.options_.listType}if(typeof this.options_.modestbranding!=="undefined"){i.modestbranding=this.options_.modestbranding}if(typeof this.options_.playlist!=="undefined"){i.playlist=this.options_.playlist}if(typeof this.options_.playsinline!=="undefined"){i.playsinline=this.options_.playsinline}if(typeof this.options_.rel!=="undefined"){i.rel=this.options_.rel}if(typeof this.options_.showinfo!=="undefined"){i.showinfo=this.options_.showinfo}if(typeof this.options_.start!=="undefined"){i.start=this.options_.start}if(typeof this.options_.theme!=="undefined"){i.theme=this.options_.theme}this.activeVideoId=this.url?this.url.videoId:null;this.activeList=i.list;this.ytPlayer=new YT.Player(this.options_.techId,{videoId:this.activeVideoId,playerVars:i,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onError:this.onPlayerError.bind(this)}})},onPlayerReady:function(){this.playerReady_=true;this.triggerReady();if(this.playOnReady){this.play()}else{if(this.cueOnReady){this.ytPlayer.cueVideoById(this.url.videoId);this.activeVideoId=this.url.videoId}}},onPlayerPlaybackQualityChange:function(){},onPlayerStateChange:function(j){var i=j.data;if(i===this.lastState||this.errorNumber){return}this.lastState=i;switch(i){case -1:this.trigger("loadstart");this.trigger("loadedmetadata");this.trigger("durationchange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate");this.trigger("durationchange");this.trigger("playing");this.trigger("play");if(this.isSeeking){this.onSeeked()}break;case YT.PlayerState.PAUSED:this.trigger("canplay");if(this.isSeeking){this.onSeeked()}else{this.trigger("pause")}break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate");this.player_.trigger("waiting");break}},onPlayerError:function(i){this.errorNumber=i.data;this.trigger("error");this.ytPlayer.stopVideo();this.ytPlayer.destroy();this.ytPlayer=null},error:function(){switch(this.errorNumber){case 5:return{code:"Error while trying to play the video"};case 2:case 100:case 150:return{code:"Unable to find the video"};case 101:return{code:"Playback on other Websites has been disabled by the video owner."}}return{code:"YouTube unknown error ("+this.errorNumber+")"}},src:function(i){if(i){this.setSrc({src:i})}return this.source},poster:function(){if(b){return null}return this.poster_},setPoster:function(i){this.poster_=i},setSrc:function(i){if(!i||!i.src){return}delete this.errorNumber;this.source=i;this.url=d.parseUrl(i.src);if(!this.options_.poster){if(this.url.videoId){this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg";this.trigger("posterchange");this.checkHighResPoster()}}if(this.options_.autoplay&&!b){if(this.isReady_){this.play()}else{this.playOnReady=true}}else{if(this.activeVideoId!==this.url.videoId){if(this.isReady_){this.ytPlayer.cueVideoById(this.url.videoId);this.activeVideoId=this.url.videoId}else{this.cueOnReady=true}}}},autoplay:function(){return this.options_.autoplay},setAutoplay:function(i){this.options_.autoplay=i},loop:function(){return this.options_.loop},setLoop:function(i){this.options_.loop=i},play:function(){if(!this.url||!this.url.videoId){return}this.wasPausedBeforeSeek=false;if(this.isReady_){if(this.url.listId){if(this.activeList===this.url.listId){this.ytPlayer.playVideo()}else{this.ytPlayer.loadPlaylist(this.url.listId);this.activeList=this.url.listId}}if(this.activeVideoId===this.url.videoId){this.ytPlayer.playVideo()}else{this.ytPlayer.loadVideoById(this.url.videoId);this.activeVideoId=this.url.videoId}}else{this.trigger("waiting");this.playOnReady=true}},pause:function(){if(this.ytPlayer){this.ytPlayer.pauseVideo()}},paused:function(){return(this.ytPlayer)?(this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING):true},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(i){if(this.lastState===YT.PlayerState.PAUSED){this.timeBeforeSeek=this.currentTime()}if(!this.isSeeking){this.wasPausedBeforeSeek=this.paused()}this.ytPlayer.seekTo(i,true);this.trigger("timeupdate");this.trigger("seeking");this.isSeeking=true;if(this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==i){clearInterval(this.checkSeekedInPauseInterval);this.checkSeekedInPauseInterval=setInterval(function(){if(this.lastState!==YT.PlayerState.PAUSED||!this.isSeeking){clearInterval(this.checkSeekedInPauseInterval)}else{if(this.currentTime()!==this.timeBeforeSeek){this.trigger("timeupdate");this.onSeeked()}}}.bind(this),250)}},seeking:function(){return this.isSeeking},seekable:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction){return{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}}var i=this.ytPlayer.getDuration();return{length:this.ytPlayer.getDuration(),start:function(){return 0},end:function(){return i}}},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval);this.isSeeking=false;if(this.wasPausedBeforeSeek){this.pause()}this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(i){if(!this.ytPlayer){return}this.ytPlayer.setPlaybackRate(i);this.trigger("ratechange")},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return this.ytPlayer?(this.lastState===YT.PlayerState.ENDED):false},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(i){if(!this.ytPlayer){return}this.ytPlayer.setVolume(i*100);this.setTimeout(function(){this.trigger("volumechange")},50)},muted:function(){return this.ytPlayer?this.ytPlayer.isMuted():false},setMuted:function(i){if(!this.ytPlayer){return}else{this.muted(true)}if(i){this.ytPlayer.mute()}else{this.ytPlayer.unMute()}this.setTimeout(function(){this.trigger("volumechange")},50)},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction){return{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}}var i=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return{length:this.ytPlayer.getDuration(),start:function(){return 0},end:function(){return i}}},preload:function(){},load:function(){},reset:function(){},supportsFullScreen:function(){return true},checkHighResPoster:function(){var i="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var k=new Image();k.onload=function(){if("naturalHeight" in k){if(k.naturalHeight<=90||k.naturalWidth<=120){return}}else{if(k.height<=90||k.width<=120){return}}this.poster_=i;this.trigger("posterchange")}.bind(this);k.onerror=function(){};k.src=i}catch(j){}}});d.isSupported=function(){return true};d.canPlaySource=function(i){return d.canPlayType(i.type)};d.canPlayType=function(i){return(i==="video/youtube")};var b=f.browser.IS_IOS||a();d.parseUrl=function(k){var i={videoId:null};var m=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/;var j=k.match(m);if(j&&j[2].length===11){i.videoId=j[2]}var l=/[?&]list=([^#\&\?]+)/;j=k.match(l);if(j&&j[1]){i.listId=j[1]}return i};function c(){YT.ready(function(){d.isApiReady=true;for(var j=0;j<d.apiReadyQueue.length;++j){d.apiReadyQueue[j].initYTPlayer()}})}function g(l,m){var j=false;var i=document.createElement("script");var k=document.getElementsByTagName("script")[0];k.parentNode.insertBefore(i,k);i.onload=function(){if(!j){j=true;m()}};i.onreadystatechange=function(){if(!j&&(this.readyState==="complete"||this.readyState==="loaded")){j=true;m()}};i.src=l}function e(){var j=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }";var i=document.head||document.getElementsByTagName("head")[0];var k=document.createElement("style");k.type="text/css";if(k.styleSheet){k.styleSheet.cssText=j}else{k.appendChild(document.createTextNode(j))}i.appendChild(k)}function a(){var i=window.navigator.userAgent.match(/applewebkit\/(\d*).*Version\/(\d*.\d*)/i);return f.browser.IS_ANDROID&&f.browser.ANDROID_VERSION<5&&i&&i[2]>0}d.apiReadyQueue=[];g("https://www.youtube.com/iframe_api",c);e();if(typeof f.registerTech!=="undefined"){f.registerTech("Youtube",d)}else{f.registerComponent("Youtube",d)}}));