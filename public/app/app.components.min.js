
(function(d){var a=function(){return Math.random().toString(36)};var n=function(){var p;var o=pw.bowser.mobile;if(o){p="html"}else{p="#chat-body"}jQuery(".chat-scroll").each(function(){var q=jQuery(this).find(".chat-entry").last();if(q&&q.offset()){if(o){window.scrollTo(0,q.offset().top)}else{jQuery(p).animate({scrollTop:q.offset().top},1000)}}})};var f=function(){var p;var o=pw.bowser.mobile;if(o){p="html"}else{p="#chat-body"}jQuery(p).animate({scrollTop:0},500)};var i=function(s,t,q,p,r,w,v){var u=this;var o=s.getSocket();var x;u.destroy=function(){x=null;u.onlineUsers=[]};u.initialize=function(){pw.DEBUG&&console.log("Home service initialization...");var y=s.getUser();x={};u.onlineUsers=[];o.on("notification",function(z){r.notify(z.msg,{title:z.title,ttl:-1})});o.on("chat-recieved",function(A){var z=s.getCurrentGroup().idGroup;u.getChat(z).then(function(E){var B=new Date();var C=("0"+(B.getDate())).slice(-2)+"-"+("0"+(B.getMonth()+1)).slice(-2)+"-"+B.getFullYear();var D=null;jQuery.each(E,function(F,G){if(G.date===C){D=G;return true}});if(!D){D={date:C,list:[]};E.push(D)}D.list.push(A);q(n,500);if(s.soundSupported&&A.idUser!==y.id){pw.Sound.play("newchat")}})});o.on("chat-refresh",function(A){var z=s.getCurrentGroup().idGroup;u.getChat(z,true)});o.on("group-change",function(z){jQuery.each(s.getUser().groups,function(A,B){if(B.idGroup===z.idGroup){s.getUser().groups[A]=z;if(s.getCurrentGroup().idGroup===z.idGroup){s.setCurrentGroup(z)}return false}})});o.on("connectedUsers",function(z){u.onlineUsers=z.users;if(z.logout&&z.logout.id===y.id){s.logout();return}w.$broadcast("connectedUsers",{onlineUsers:u.onlineUsers});if(y.idRole<p.student){if(z.login&&z.login.id!==y.id&&w.fromState){r.info(z.login.fullname,{title:"Ha iniciat sessió"})}else{if(z.logout&&z.logout.id!==y.id){r.info(z.logout.fullname,{title:"Ha sortit de la sessió"})}}}});o.emit("addUser",y)};u.getChat=function(y,C,z){var B=t.defer();if(C&&x[y]){x[y].clear()}var A=x[y];if(!A||C){if(!A){A=[];x[y]=A}v.post("/rest/chats/list",{idGroup:y,all:z||false}).then(function(D){jQuery.each(D.data,function(E,F){A.push(F)});B.resolve(A);if(z){q(f,500)}else{q(n,500)}})}else{B.resolve(A)}return B.promise};pw.DEBUG&&console.log("Home Service has been instantiated, but not initialized. Call manually HomeService.initialize();!!");return this};d.service("HomeService",["Session","$q","$timeout","USER_ROLES","growl","$rootScope","$http",i]);var b=function(p){var o=this;this.pwcID=a();o.toggleCenterGroups=function(){var q=jQuery("#pwc-group-enroll");if(q&&q.hasClass("ng-hide")){q.removeClass("ng-hide")}else{q.toggle()}};o.$onInit=function(){o.pwcID=a();window.pw.DEBUG&&console.log("pwcWelcomeCtrl-"+o.pwcID+": $oninit");o.collapsed=o.mobile?false:o.collapse!==null?o.collapse:false;o.teacher=(o.user.idRole<p.student);o.amParent=(o.user.idRole===p.parents)}};var c=function(t,s,p,o,r){var q=this;q.tgs={};q.USER_ROLES=s;q.score={};this.pwcID=a();q.updateScores=function(u){if(u){q.tgs.showInterval=!q.tgs.showInterval}if(q.score.pos>0){var v={};if(q.tgs.showInterval){v.fromDate=q.tgs.fromDate?q.tgs.fromDate.toISOString().substring(0,19).replace("T"," "):null;v.toDate=q.tgs.toDate?q.tgs.toDate.toISOString().substring(0,19).replace("T"," "):null}if(q.score.pos===1){v.groupId=q.score.idgroup||(q.group&&q.group.idGroup)}else{if(q.score.pos===2){v.schoolId=q.user.schoolId}else{if(q.score.pos===3){v.all=true;v.schoolId=q.user.schoolId}}}t.post("/rest/students/scores",v).then(function(w){jQuery.each(w.data,function(y,C){var z=C.fullname;var B=z.split(",");if(B.length>1){var A=B[0].replace(/  /gi," ").split(" ");var x=A[0];if(A.length>1){x+=" "+A[1].substring(0,1)+"."}x+=", "+B[1];C.fullname=x}});q.allScores=w.data})}else{t.post("/rest/students/categoryscores",{idUser:q.user.id}).then(function(w){var x=w.data;x.rscore=0;jQuery.each(x.badges,function(y,A){x.rscore+=A.rscore;var B=o.badgeDescription(A.type);var z=p.instant("SCORE");A.html="<div><p>"+B+"</p> <p>"+r("date")(A.day,"dd-MM-yyyy")+"<p><p>"+A.rscore+" "+z+"</p></div>"});x.badgesFiltered=$.grep(x.badges,function(z,y){return z.type<200});q.myScores=x})}};q.showScore=function(u,v){q.score.pos=u;q.score.idgroup=v;q.updateScores()};q.$onChanges=function(u){if(u.group&&q.group){console.log("changes group",q.group);q.showGrades2Students=q.group.gopts.showGrades2Students;q.score.idgroup=q.group.idGroup;if(q.score.pos===1){q.updateScores()}}};q.$onInit=function(){window.pw.DEBUG&&console.log("pwcScoresCtrl-"+q.pwcID+": $oninit");q.collapsed=q.mobile?false:q.collapse!==null?q.collapse:false;q.mobile?q.panelbodyStyle={}:q.panelbodyStyle={"max-height":"350px","overflow-y":"scroll"};q.score.pos=q.user.idRole<s.student?2:0;q.updateScores()}};var m=function(y,s,z,x,p,w,t,v,r){var o=this;this.pwcID=a();var q=v.getSocket();o.USER_ROLES=r;o.tgs={};o.onlineusers=[];o.participants=[];o.orderByParticipants="-lastLogin";o.swithOrderByParticipants=function(){o.orderByParticipants==="-lastLogin"?o.orderByParticipants="+fullname":o.orderByParticipants="-lastLogin"};o.orderByParticipantsFunc=function(B){if(o.orderByParticipants==="-lastLogin"){return -B.lastLogin||10000000000000000000}else{return B.fullname}};o.myFilter=function(B){if(!o.tgs.filterNames){return true}return(B.fullname||"").toLowerCase().indexOf(o.tgs.filterNames.toLowerCase())>=0};o.myFilter2=function(B){if(!o.tgs.filterNames2){return true}return(B.fullname||"").toLowerCase().indexOf(o.tgs.filterNames2.toLowerCase())>=0};var A=function(){y.post("/rest/students/participants",{idGroup:o.group.idGroup}).then(function(B){jQuery.each(B.data,function(C,D){D.fullname=x("nameShortener")(D.fullname)});o.participants=B.data});u()};var u=function(){if(o.onlineusers){o.participants.forEach(function(E){var D=false;for(var C=0,B=o.onlineusers.length;C<B;C++){if(o.onlineusers[C].id===E.id){D=true;E.lastLogin=o.onlineusers[C].lastLogin;break}}E.online=D})}};o.sendNotification=function(D,B){var C=function(F){var E=F.trim();if(E){q.emit("notification",{title:o.user.fullname,msg:E,idUsers:[D]})}};w.inputdlg("Message","Send notification to "+B,"",C,null,{type:"textarea"})};o.sendEmail=function(C){var D=function(E){E.to=C.email;if(o.user.email&&o.user.email.substring()!=="??"){E.from=o.user.email;E.fromName=o.user.emailPassword?o.user.fullname:"";E.emailPassword=o.user.emailPassword}y({method:"POST",url:"/rest/gapis/email",data:pw.encrypt(JSON.stringify(E)),headers:{"Content-Type":"text/plain;charset=UTF-8"}}).then(function(F){if(F.data.ok){t.success("S'ha enviat el correu a "+C.email)}else{t.error("No s'ha pogut enviar el correu a "+C.email)}})};var B=s.open({templateUrl:"app/components/home/email-dlg.html",controller:["$scope",function(E){E.ok=function(){if(!E.bean.subject.trim()||!E.bean.html.trim()){return}B.close(E.bean)};E.cancel=function(){B.dismiss()};E.username=C.fullname;E.bean={subject:"",html:""};E.email=C.email}],size:"md"});B.result.then(function(E){D(E)})};o.showStudentProgress=function(B){if(!o.group){return}var C={id:o.group.idGroup,idUser:B.id};p.go("home.progress",C)};o.manageBadges=function(C){var B=s.open({templateUrl:"app/components/home/badges-dlg.html",controller:["$scope",function(D){D.ok=function(){B.close()};var E=function(){y.post("/rest/badges/list",{idUser:C.id}).then(function(F){D.badges=F.data||[]})};D.addBadge=function(){var F={idUser:C.id,type:1,idCreator:o.user.id,rscore:100,edit:true};(D.badges||[]).push(F)};D.addBadge=function(){var F={idUser:C.id,type:1,idCreator:o.user.id,rscore:100};(D.badges||[]).push(F);D.editBadge(F)};D.deleteBadge=function(F){y.post("/rest/badges/delete",{id:F.id}).then(function(G){E()})};D.editBadge=function(F){F.edit=true;F._type=F.type;F._rscore=F.rscore};D.cancelEdit=function(F){F.edit=false;F.type=F._type;F.rscore=F._rscore};D.saveEdit=function(F){F.edit=false;delete F.edit;delete F._type;delete F._rscore;y.post("/rest/badges/save",F).then(function(G){E()})};D.badgesList=[{id:1,label:"Comments"},{id:2,label:"Regularity"},{id:3,label:"Best of week"},{id:4,label:"Best of month"},{id:5,label:"Week challenge"},{id:50,label:"Kahoot competition winner"},{id:100,label:"Xmas special badge"},{id:101,label:"Easter special badge"}];D.user=o.user;D.student=C;E()}],size:"lg"})};o.$onInit=function(){window.pw.DEBUG&&console.log("pwOnlineCtrl-"+o.pwcID+": $oninit");o.collapsed=o.mobile?false:o.collapse!==null?o.collapse:false;if(o.mobile){var B=jQuery(".navbar");var C=50;if(B){C=B.height()||50}o.panelheadingStyle={position:"fixed",top:C+"px",width:"100%",left:"0px","z-index":1000};o.panelbodyStyle={"padding-top":"80px","padding-bottom":"40px"}}else{o.panelheadingStyle={};o.panelbodyStyle={"max-height":"300px","overflow-y":"auto"};o.panelfooterStyle={}}if(!o.group){return}};z.$on("connectedUsers",function(B,C){o.onlineusers=C.onlineUsers;u()});o.$onChanges=function(B){if(B.group&&o.group){A()}}};var l=function(x,y,u,t,s,q){var p=this;this.pwcID=a();var r=t.getSocket();p.chat={input:"",all:false,dates:[]};var o=[];var v=[];var w=0;p.handleKeyEvent=function(z){if(z.keyCode===13){p.xat()}else{if(z.keyCode===38){if(w>0){w-=1}else{w=v.length-1}p.chat.input=v[w]}else{if(z.keyCode===40){if(w<v.length-1){w+=1}else{w=0}p.chat.input=v[w]}else{if(z.keyCode===27){p.chat.input=""}}}}};p.xat=function(){var z=(p.chat.input||"").trim();if(!z){return}v.push(z);w=v.length-1;var B=function(){r.emit("chat-send",{idUser:p.user.id,fullname:p.user.fullname,msg:z,idGroup:p.group.idGroup});o.push(z)};var A=function(){p.user.uopts.chatAgree=true;x.post("/rest/students/updateuopts",{uopts:p.user.uopts,id:p.user.id});t.updateCookies();B()};if(p.user.idRole>=s.student&&!p.user.uopts.chatAgree){u.confirmdlg("Condicions d'utilització del chat","<h2>IMPORTANT</h2><p>El xat és una eina de comunicació i se n'ha de fer un ús responsable.</p><p>Un ús <b>inadequat</b> o l'enviament de missatges <b>ofensius</b> pot dur les següents conseqüències segons la gravetat dels fets:<p><ul><li>L'eliminació dels missatges per part de l'administrador / professor</li><li>La substracció de punts o qualificació del curs</li><li>La impossibilitat d'enviar missatges</li><li>Altres mesures disciplinàries a nivell de centre</li></ul><p>Si acceptau les condicions pitjau D'Acord. Si les rebutjau, pitjau Cancel·la</p>",A)}else{B()}p.chat.input=""};p.loadPreviousChats=function(){p.chat.all=true;q.getChat(p.group.idGroup,true,true).then(function(z){p.chat.dates=z})};p.removeChatEntry=function(z){var A=function(){x.post("/rest/chats/delete",{id:z.id}).then(function(){r.emit("chat-refresh",{idGroup:p.group.idGroup})})};u.confirmdlgpwd("Confirm delete chat entry "+z.id,"Segur que voleu eliminar aquesta entrada del chat?",A)};p.lightColor=function(A){var z=(A*9301+49297)%233280;return"hsl("+(z%360)+", "+(80+A%10)+"%, 90%)"};p.$onInit=function(){p.pwcID=a();window.pw.DEBUG&&console.log("pwChatCtrl-"+p.pwcID+": $oninit");p.collapsed=p.mobile?false:p.collapse!==null?p.collapse:false;if(p.mobile){var z=jQuery(".navbar");var A=50;if(z){A=z.height()||50}p.panelheadingStyle={position:"fixed",top:A+"px",width:"100%",left:"0px","z-index":1000};p.panelbodyStyle={"padding-top":"40px","padding-bottom":"80px"};p.panelfooterStyle={position:"fixed",bottom:"30px",width:"100%",left:"0px","z-index":1000}}else{p.panelheadingStyle={};p.panelbodyStyle={"max-height":"300px","overflow-y":"scroll"};p.panelfooterStyle={}}};p.$onChanges=function(B){window.pw.DEBUG&&console.log("pwChatCtrl-"+p.pwcID+": $onChanges");if(!p.user||!p.group){return}p.amStudent=(p.user.idRole===s.student);var z=p.group?p.group.gopts.postchats!==false:false;var A=p.user.uopts.postchats===false;p.canSendChat=p.user.idRole<s.student||(z&&!A)||p.user.uopts.postchats===true;if(B.group&&p.group){window.pw.DEBUG&&console.log("pwChatCtrl-"+p.pwcID+": reload chat dates");q.getChat(p.group.idGroup,true,false).then(function(C){p.chat.dates=C});window.pw.DEBUG&&console.log(p.chat.dates)}};p.$onDestroy=function(){if(o.length&&p.user.professorEmail){var z={to:p.user.professorEmail,subject:"New chat from "+p.user.fullname,text:o.join("\n"),html:o.join("<br>")};if(pw.DEBUG){}else{x.post("/rest/gapis/email",z)}}}};var g=function(x,s,p,q,y,t,w,v,r){var o=this;this.pwcID=a();o.USER_ROLES=r;o.manageChallenges=function(){var z=s.open({templateUrl:"app/shared/manageChallenges.html",controller:["$scope","$ocLazyLoad",function(A,B){B.load("nzToggle").then(function(){x.post("/rest/challenge/list",{idGroup:o.group.idGroup}).then(function(C){A.list=C.data})});A.show=function(C){A.selected=C;x.post("/rest/challenge/list",{id:C.id,idGroup:o.group.idGroup}).then(function(D){A.detail=D.data})};A.back=function(){A.selected=null};A.changeCorrect=function(C){x.post("/rest/challenge/correct",{id:C.cqid,valid:C.valid}).then(function(D){if(!D.data.ok){t.error("Can't update challange correction :-(")}})};A.ok=function(){z.dismiss()}}],size:"lg",windowTopClass:"modal-fullscreen"})};o.showChallenges=function(){var z=s.open({templateUrl:"app/shared/userChallenges.html",controller:["$scope",function(A){x.post("/rest/challenge/list",{idUser:o.user.id}).then(function(B){A.list=B.data;A.ok=function(){z.dismiss()}})}],size:"lg",windowTopClass:"modal-fullscreen"})};o.sendChallenge=function(){var z=o.challenge.myanswer;if(!z){return}var A;if(o.challenge._userAnswer){A=o.challenge._userAnswer.id}x.post("/rest/challenge/register",{id:A,idChallenge:o.challenge.id,idUser:o.user.id,answer:z}).then(function(B){w.notificationdlg("Gràcies per participar!","La teva resposta ha estat desada. Tindràs la resposta a principis de la setmana que vé.");o.challenge.userAnswer=B.data})};o.modifyChallenge=function(){o.challenge._userAnswer=o.challenge.userAnswer;o.challenge.myAnswer=o.challenge.userAnswer.answer;delete o.challenge.userAnswer};var u=function(){if(!o.challenge&&o.group&&o.user){var z=0;if(o.group){if(o.group.groupStudies[0]==="B"){z=2}else{if(o.group.groupLevel>2){z=1}}}x.post("/rest/oftheday/all",{idUser:o.user.id,level:z,lang:q.use()}).then(function(B){var A=B.data.problem;if($.isArray(A.userAnswer)&&A.userAnswer.length){A.userAnswer=A.userAnswer[0]}if(A.quizz){o.isChallenge=1;require(["/activities/libs/activity-bakejson.js","/activities/libs/activity-quizz.min.js"],function(){var E=window.pw.BakeJson(JSON.parse(A.quizz,{},o.user.id))[0];var C=$("#challengePanel");var D=new window.pw.QuestionPanel(C,null,{});if(E){D.setQuestion(E[0])}})}else{o.isChallenge=A?2:0;o.challenge=A}})}};o.$onInit=function(){o.pwcID=a();window.pw.DEBUG&&console.log("pwcChallengeCtrl-"+o.pwcID+": $oninit");o.collapsed=o.mobile?false:o.collapse!==null?o.collapse:false;u()};o.$onChanges=function(z){if(z.group&&o.group){o.challenge=null;u()}}};var h=function(q,o){var p=this;p.update=function(){q.post("/rest/oftheday/quote",{lang:o.use()}).then(function(s){p.quote=s.data})};p.$onInit=function(){p.pwcID=a();window.pw.DEBUG&&console.log("pwcFamousQuoteCtrl-"+p.pwcID+": $oninit");p.collapsed=p.mobile?false:p.collapse!==null?p.collapse:false;if(!p.quote){p.update()}}};var j=function(q,o){var p=this;p.update=function(){q.post("/rest/oftheday/eqn",{lang:o.use()}).then(function(s){p.equation=s.data})};p.$onInit=function(){p.pwcID=a();window.pw.DEBUG&&console.log("pwcFamousEquationCtrl-"+p.pwcID+": $oninit");p.collapsed=p.mobile?false:p.collapse!==null?p.collapse:false;if(!p.equation){p.update()}}};var k=function(s,q,p,o){var r=this;r.update=function(){s.post("/rest/groups/listcenter",{schoolId:r.user.schoolId,idUser:r.user.id}).then(function(t){r.groupsCenter=t.data})};r.unenroll=function(t){r.group=q.getCurrentGroup();s.post("/rest/groups/unenroll",{idUser:r.user.id,idGroup:t.idGroup}).then(function(x){var v=-1;var u=r.user.groups.length;for(var w=0;w<u;w++){if(r.user.groups[w].idGroup===t.idGroup){v=w;break}}if(v>=0){r.user.groups.splice(v,1)}u=r.user.groups.length;if((r.group&&t.idGroup===r.group.idGroup)&&u>0){r.group=r.user.groups[u-1];q.setCurrentGroup(r.group);o.$broadcast("changeGrp",{group:r.group})}else{if(u===0){q.setCurrentGroup(null);o.$broadcast("changeGrp",{group:null})}}p.warning("Us heu desapuntat del grup "+t.groupName);r.update()})};r.enroll=function(t){if(t.edit){t.edit=!t.edit;t.enrollPwd=""}else{t.enrollPwd="";if(t.enrollPassword){t.edit=true;return}}r.group=q.getCurrentGroup();s.post("/rest/groups/doenroll",{idUser:r.user.id,idGroup:t.idGroup,enrollPassword:t.enrollPwd}).then(function(u){t.enrollPwd="";var w=u.data;if(w.ok){p.success(w.msg+" "+t.groupName);w.group=w.group||{};var v;jQuery.each(r.user.groups,function(y,x){if(x.idGroup===w.group.idGroup){v=true;return true}});if(!v){r.user.groups.push(w.group);r.group=r.user.groups[r.user.groups.length-1];q.setCurrentGroup(r.group);o.$broadcast("groupChange",r.group)}}else{p.error(w.msg+" "+t.groupName)}r.update()})};r.toggleMe=function(){var t=jQuery("#pwc-group-enroll");if(t&&t.hasClass("ng-hide")){t.removeClass("ng-hide")}else{t.toggle()}};r.$onInit=function(){r.pwcID=a();window.pw.DEBUG&&console.log("pwcGroupEnrollCtrl-"+r.pwcID+": $oninit");if(r.user){r.update()}}};var e=function(u,q,p,r,t){var o;var s=this;s.search="";s.doSearch=function(){$(".quick-search").fadeOut();if(!s.search){return}var y=s.search.trim().toLowerCase();var w=r.getUser();if(w.idRole<t.student){if(y.indexOf("edit")>=0){y=y.replace(/edit/g,"").trim();if(!isNaN(y)){if(w.idRole<t.student){q.go("home.ide",{idActivity:parseInt(y)})}}}if(y.indexOf("create")>=0){if(y.indexOf("video")>=0){q.go("home.editactivityV",{idActivity:0})}else{if(y.indexOf("quizz")>=0){q.go("home.editactivityQ",{idActivity:0})}else{if(y.indexOf("upload")>=0){q.go("home.editactivityU",{idActivity:0})}else{q.go("home.editactivityA",{idActivity:0})}}}}}if(!isNaN(s.search)){var x=parseInt(s.search);var v=0;$.each(Object.values(r.assignmentsCache||{}),function(A,z){$.each(z||[],function(B,C){$.each(C.assignments||{},function(E,D){if(D.idActivity==x){v=D.id;return true}if(v){return true}})})});q.go("home.activity",{idActivity:s.search.trim(),idAssignment:v})}};s.onEnter=function(v){if(v&&v.which===13){s.doSearch()}};s.$onInit=function(){s.pwcID=a();window.pw.DEBUG&&console.log("pwcQuickSearchCtrl-"+s.pwcID+": $oninit");if(s.user){s.update()}if(pw.isMobile()){o=$("#mobile-button-search");o.on("click",function(){p(function(){s.search=""});$(".quick-search").toggle();$(".quick-search input").focus()})}else{u.on("keypress",function(v){if(v.ctrlKey&&v.which===6){p(function(){s.search=""});$(".quick-search").toggle();$(".quick-search input").focus()}})}};s.$onDestroy=function(){u.off("keypress");if(o){o.off()}}};d.component("pwcWelcome",{bindings:{user:"<",group:"<",collapse:"<",mobile:"<"},templateUrl:"app/components/home/pwc-welcome.html",controller:["USER_ROLES",b],controllerAs:"vm"});d.component("pwcScores",{bindings:{user:"<",collapse:"<",mobile:"<",group:"<"},templateUrl:"app/components/home/pwc-scores.html",controller:["$http","USER_ROLES","$translate","$rootScope","$filter",c],controllerAs:"vm"});d.component("pwcOnline",{bindings:{user:"<",group:"<",collapse:"<",mobile:"<"},templateUrl:"app/components/home/pwc-online.html",controller:["$http","$uibModal","$rootScope","$filter","$state","Modals","growl","Session","USER_ROLES",m],controllerAs:"vm"});d.component("pwcChat",{bindings:{user:"<",group:"<",collapse:"<",mobile:"<"},templateUrl:"app/components/home/pwc-chat.html",controller:["$http","$rootScope","Modals","Session","USER_ROLES","HomeService",l],controllerAs:"vm"});d.component("pwcChallenges",{bindings:{user:"<",group:"<",collapse:"<",challenge:"<",mobile:"<"},templateUrl:"app/components/home/pwc-challenges.html",controller:["$http","$uibModal","$ocLazyLoad","$translate","$rootScope","growl","Modals","Session","USER_ROLES",g],controllerAs:"vm"});d.component("pwcFamousQuote",{bindings:{user:"<",collapse:"<",mobile:"<"},templateUrl:"app/components/home/pwc-famous-quote.html",controller:["$http","$translate",h],controllerAs:"vm"});d.component("pwcFamousEquation",{bindings:{equation:"<",collapse:"<",mobile:"<"},templateUrl:"app/components/home/pwc-famous-equation.html",controller:["$http","$translate",j],controllerAs:"vm"});d.component("pwcGroupEnroll",{bindings:{user:"<",mobile:"<"},templateUrl:"app/components/home/pwc-group-enroll.html",controller:["$http","Session","growl","$rootScope",k],controllerAs:"vm"});d.component("pwcQuickSearch",{bindings:{user:"<",mobile:"<"},template:'<div class="input-group"><input type="text" ng-model="vm.search" placeholder="Cerca a piWorld" ng-keyup="vm.onEnter($event)" class="form-control"/><span class="input-group-btn"><button class="btn btn-default glyphicon glyphicon-search" ng-click="vm.doSearch()"></button></span></div>',controller:["$document","$state","$timeout","Session","USER_ROLES",e],controllerAs:"vm"})})(window.pw.app.register);