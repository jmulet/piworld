/*
 MIT
*/
function navigatorLang(){return void 0!=navigator.languages?navigator.languages[0]:navigator.language}
(function(g){function x(){var a=4022871197;return function(b){b=b.toString();for(var c=0;c<b.length;c++){a+=b.charCodeAt(c);var d=.02519603282416938*a;a=d>>>0;d-=a;d*=a;a=d>>>0;d-=a;a+=4294967296*d}return 2.3283064365386963E-10*(a>>>0)}}String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(a){return 0===this.toString().indexOf(a)}});String.prototype.endsWith||Object.defineProperty(String.prototype,"endsWith",{value:function(a,b){var c=this.toString();if("object"===
typeof a){var d=!1,e;for(e in a)if(c.endsWith(a[e])){d=!0;break}return d}if(void 0===b||b>c.length)b=c.length;b-=a.length;c=c.indexOf(a,b);return-1!==c&&c===b}});String.prototype.repeat||(String.prototype.repeat=function(a){return Array(a+1).join(this)});String.prototype.html2latex=function(){return this.replace(/<katex>/gi,"$").replace(/<\/katex>/gi,"$")};Object.values||(Object.values=function(a){var b=[],c;for(c in a)b.push(a[c]);return b});Array.prototype.random||Object.defineProperty(Array.prototype,
"random",{value:function(){return this[Math.floor(Math.random()*this.length)]}});Array.prototype.equals||(Array.prototype.equals=function(a,b){if(!a)return!1;1===arguments.length&&(b=!0);if(this.length!==a.length)return!1;for(var c=0;c<this.length;c++)if(this[c]instanceof Array&&a[c]instanceof Array){if(!this[c].equals(a[c],b))return!1}else{if(b&&this[c]!==a[c])return!1;if(!b)return this.sort().equals(a.sort(),!0)}return!0});Array.prototype.clear||(Array.prototype.clear=function(){this.splice(0,this.length)});
Array.prototype.shuffle||(Array.prototype.shuffle=function(){var a=this.length,b,c;if(0===a)return this;for(;--a;)b=Math.floor(Math.random()*(a+1)),c=this[a],this[a]=this[b],this[b]=c;return this});Array.prototype.forEach||(Array.prototype.forEach=angular.forEach);Element.prototype.remove||(Element.prototype.remove=function(){this.parentNode.removeChild(this)});Math.ln||(Math.ln=Math.log);Math.power=function(a,b){return Math.exp(b*Math.log(a))};Math.logb||(Math.logb=function(a,b){return Math.log(a)/
Math.log(b||10)});Math.root||(Math.root=function(a,b){return Math.power(a,1/b)});Math.srandom||(Math.srandom=function(){return Math.random().toString(36).slice(2)});Math.irandom||(Math.irandom=function(a,b){a=a||0;return Math.floor(Math.random()*((b||10)-a))+a});Math.seed||(Math.seed=function(a){this.seed=a;this.random=function(a){a=a||1;for(var c=Array(a),d=0;d<a;d++)this.seed=(9301*this.seed+49297)%233280,c[d]=this.seed/233280;return 1<a?c:c[0]};return this});Math.fact||(Math.fact=function(a){return"number"!==
typeof a||0>a?!1:0===a?1:a*Math.fact(a-1)});Math.binomial||(Math.binomial=function(a,b){if("number"!==typeof a||"number"!==typeof b||a<b)return!1;for(var c=1,d=a-b+1;d<=a;d++)c*=d;for(d=1;d<=b;d++)c/=d;return c});(function(){function a(a,b){return function(){var c=this._super;this._super=b;var g=a.apply(this,arguments);this._super=c;return g}}var b=Object.prototype.hasOwnProperty,c="get set value writable enumerable configurable".split(" ");"function"!==typeof Object.extend&&(Object.extend=function(d,
e,r){function g(){this.constructor=m}var f,m;"function"!==typeof d&&3>arguments.length&&(r=e,e=d,d=function(){});e||(e={});r||(r={});m=function(){this.init&&this.init.apply(this,arguments)};for(var k in d)b.call(d,k)&&(m[k]=d[k]);for(k in r)m[k]=r[k];g.prototype=d.prototype;f=new g;for(k in e)if("$"!==k.substr(0,1)||"object"!==typeof e[k]&&"function"!==typeof e[k])f[k]="function"===typeof e[k]&&"function"===typeof f[k]?a(e[k],d.prototype[k]):e[k];else{var l=e[k];k=k.substr(1);"function"===typeof l&&
(l=l());var h=Object.getOwnPropertyDescriptor(d.prototype,k);if(h){var n=b.call(l,"value")||b.call(l,"writable"),p=b.call(l,"get")||b.call(l,"set");c.forEach(function(c){"get"===c||"set"===c?n||"function"===typeof h[c]&&(l[c]="function"===typeof l[c]?a(l[c],h[c]):h[c]):"value"===c||"writable"===c?p||!b.call(l,c)&&b.call(h,c)&&(l[c]=h[c]):!b.call(l,c)&&b.call(h,c)&&(l[c]=h[c])})}Object.defineProperty(f,k,l)}m.prototype=f;m.__super__=d.prototype;m.extend=function(a,b){return Object.extend(m,a,b)};return m})})();
g.isMobile=function(){return/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)};g.testEmail=function(a){return(new RegExp(/^([\w-\.]+@([\w-]+\.)+[\w-]{2,4})?$/i)).test(a)};g.bindEvent=function(a,b,c){a.addEventListener?a.addEventListener(b,c,!1):a.attachEvent&&a.attachEvent("on"+b,c)};g.unbindEvent=function(a,b){a.removeEventListener?a.removeEventListener(b):a.detachEvent&&a.detachEvent("on"+b)};var n={isIframe:window.parent&&window.parent!==window&&window.location.origin===window.parent.location.origin,
initialized:!1,listeners:[],init:function(){n.initialized||(g.bindEvent(window,"message",function(a){var b;try{b=JSON.parse(a.data),$.each(n.listeners,function(a,d){d(b.key,b.msg)})}catch(c){console.log(a.data,c)}}),n.initialized=!0)},destroy:function(){g.bindEvent(window,"message")},attachListener:function(a){n.initialized||n.init();n.listeners.push(a)},send:function(a,b,c){n.isIframe||c?(a={key:a,msg:b},c||(c=window.parent),c.postMessage||(c=c.contentWindow),c.postMessage(JSON.stringify(a),"*")):
console.log("isIframe?",n.isIframe,"You must provide an iframe to send to")}};g.iframeAPI=n;var f={fullscreenEnabled:0,fullscreenElement:1,requestFullscreen:2,exitFullscreen:3,fullscreenchange:4,fullscreenerror:5},q="webkitFullscreenEnabled webkitFullscreenElement webkitRequestFullscreen webkitExitFullscreen webkitfullscreenchange webkitfullscreenerror".split(" "),v="mozFullScreenEnabled mozFullScreenElement mozRequestFullScreen mozCancelFullScreen mozfullscreenchange mozfullscreenerror".split(" "),
w="msFullscreenEnabled msFullscreenElement msRequestFullscreen msExitFullscreen MSFullscreenChange MSFullscreenError".split(" "),h="fullscreenEnabled"in document&&Object.keys(f)||q[0]in document&&q||v[0]in document&&v||w[0]in document&&w||[],t,u,p={toggleFullscreen:function(a,b){t?a===t?p.exitFullscreen(a):(p.exitFullscreen(),p.requestFullscreen(a,b)):p.requestFullscreen(a,b)},requestFullscreen:function(a,b){b&&b.removeClass("glyphicon-resize-full");t=a;b&&b.addClass("glyphicon-resize-small");u=b;
if(p.fullscreenEnabled())return a[0][h[f.requestFullscreen]]();a.addClass("fullscreen-max")},exitFullscreen:function(a,b){u&&u.removeClass("glyphicon-resize-small").addClass("glyphicon-resize-full");t=null;if(p.fullscreenEnabled())return document[h[f.exitFullscreen]].bind(document)();a.removeClass("fullscreen-max")},addEventListener:function(a,b,c){return document.addEventListener(h[f[a]],b,c)},removeEventListener:function(a,b,c){return document.removeEventListener(h[f[a]],b,c)},fullscreenEnabled:function(){return Boolean(document[h[f.fullscreenEnabled]])},
fullscreenElement:function(){return document[h[f.fullscreenElement]]},getOnfullscreenchange:function(){return document[("on"+h[f.fullscreenchange]).toLowerCase()]},setOnfullscreenchange:function(a){return document[("on"+h[f.fullscreenchange]).toLowerCase()]=a},getOnfullscreenerror:function(){return document[("on"+h[f.fullscreenerror]).toLowerCase()]},setOnfullscreenerror:function(a){return document[("on"+h[f.fullscreenerror]).toLowerCase()]=a}};g.FScreen=p;g.Sound={categories:{sounds:["soundRightAnswer",
"soundWrongAnswer","soundTimeout","ok","wrong"],themes:["soundGameOver","theme1","theme2","theme3"]},volumeSounds:1,volumeThemes:.6,enableSounds:!0,enableThemes:!0,enable:{sounds:function(a){g.Sound.enableSounds=a},themes:function(a){g.Sound.enableThemes=a}},fallback:["mp3","ogg"],sounds:{},playing:[],register:function(a){var b=this;$.each(Object.keys(a),function(c,d){if(!b.sounds[d]){var e=a[d];if("string"===typeof e){var g=e.lastIndexOf("."),h=e.substring(0,g),g=e.substring(g+1,e.length).toLowerCase().trim(),
f=document.createElement("AUDIO");if(!f.canPlayType("audio/"+g))for(console.log("audio/"+g+" is not supported"),c=0;c<pw.Sound.fallback.length;c++){var m=pw.Sound.fallback[c];if(m!==g&&f.canPlayType("audio/"+m)){console.log("Use fallback audio/"+m+" instead");e=h+"."+m;break}}f.preload="auto";f.src=e;b.sounds[d]=f}else b.sounds[d]=e}})},play:function(a,b,c){if(!(!this.enableSounds&&0<=this.categories.sounds.indexOf(a)||!this.enableThemes&&0<=this.categories.themes.indexOf(a))){var d=this,e=this.sounds[a];
e?(a=d.categories.themes.indexOf(a),e.volume=c||(a?d.volumeThemes:d.volumeSounds),b&&(e.loop=b,e.loopCount=0),e.play(),e.onended=function(){e.currentTime=0;if(0<e.loop&&e.loopCount<e.loop||0>e.loop)e.loopCount+=1,e.play();else{var a=d.playing.indexOf(e);0<=a&&d.playing.splice(a,1);e.onended=null}},this.playing.push(e)):console.log("Unregistered sound ",a,". Use ",Object.keys(this.sounds))}},stop:function(a){if(a){if(a=this.sounds[a])a.pause(),a.currentTime=0,a=this.playing.indexOf(a),0<=a&&this.playing.splice(a,
1)}else $.each(this.playing,function(a,c){c.pause();c.loop=0;c.loopCount=0;c.onended=null;c.currentTime=0}),this.playing.splice(0,this.playing.length)}};g.Alea=function(a){var b=this,c=x();b.next=function(){var a=2091639*b.s0+2.3283064365386963E-10*b.c;b.s0=b.s1;b.s1=b.s2;return b.s2=a-(b.c=a|0)};b.c=1;b.s0=c(" ");b.s1=c(" ");b.s2=c(" ");b.s0-=c(a);0>b.s0&&(b.s0+=1);b.s1-=c(a);0>b.s1&&(b.s1+=1);b.s2-=c(a);0>b.s2&&(b.s2+=1);c=null};g.encrypt=function(a){for(var b=new g.Alea("jl8jKsYDwB"),c=a.length,
d=Array(c),e=0;e<c;e++){var f=a.charCodeAt(e);if(32<=f&&126>=f){var h=Math.floor(93*b.next());d[e]=(f+h-32)%94+32}else d[e]=f}return String.fromCharCode.apply(String,d)};g.decrypt=function(a){for(var b=Array(c),c=a.length,d=new g.Alea("jl8jKsYDwB"),e=0;e<c;e++){var f=a.charCodeAt(e);if(32<=f&&126>=f){var h=Math.floor(93*d.next());b[e]=(f-h-32+94)%94+32}else b[e]=f}return String.fromCharCode.apply(String,b)};q=new Date;q.setDate(q.getDate()-244);g.currentYear=q.getFullYear()-2E3;g.guid=function(){return Math.random().toString(36).slice(2)}})(window.pw||
window);window.pw=window.pw||{};window.pw.GEOGEBRA_ROOT="https://www.geogebratube.org/";window.pw.KATEXCSS="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.3/katex.min.css";window.pw.MATHQUILLCSS="/activities/libs/math/mathinput/mathquill/mathquill.css";
require.config({urlArgs:"bust="+window.pw.PW_VERSION,paths:{underscore:"https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore-min",text:"assets/libs/requirejs/require-text",css:"assets/libs/requirejs/require-css",async:"assets/libs/requirejs/require-async",font:"assets/libs/requirejs/require-font",image:"assets/libs/requirejs/require-image",json:"assets/libs/requirejs/require-json",noext:"assets/libs/requirejs/require-noext",mathjs:"activities/libs/math/mathjs",fraction:"activities/libs/math/fraction",
KAS:"activities/libs/math/KAS",canvaspaint:"activities/libs/math/mathinput/canvas-painter",mathquill:"activities/libs/math/mathinput/mathquill/mathquill",mathquilleditor:"activities/libs/math/mathinput/mathquill-editor",mathpaint:"activities/libs/math/mathinput/mathpaint",mathinput:"activities/libs/math/mathinput/mathinput",mathblanks:"activities/libs/math/mathinput/mathblanks","activity-quizz":"activities/libs/activity-quizz","activity-bakejson":"activities/libs/activity-bakejson","quizzrenderer-input":"activities/libs/quizzrenderer-input",
"quizzrenderer-blanks":"activities/libs/quizzrenderer-blanks","quizzrenderer-checkbox":"activities/libs/quizzrenderer-checkbox","quizzrenderer-kahoot":"activities/libs/quizzrenderer-kahoot","quizzrenderer-mathinput":"activities/libs/quizzrenderer-mathinput","quizzrenderer-radio":"activities/libs/quizzrenderer-radio","quizzrenderer-roots":"activities/libs/quizzrenderer-roots",mqEdtPalette:"activities/libs/math/mathinput/mathquill-editor-palette.html",mqEdtCss:"activities/libs/math/mathinput/mathquill-editor",
"jquery-draggable":"assets/js/jquery-draggable","mobile-dnd":"assets/js/jquery/DragDropTouch",rateyo:"assets/libs/js/jquery/jquery.rateyo.min",katex:"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.2/katex.min",katexauto:"https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.8.2/contrib/auto-render.min",jsxgraph:"https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.99.6/jsxgraphcore",jsxgraphcore:"https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.99.6/jsxgraphcore",appmin:"app.min",angular:"assets/libs/angular/angular.min",
"angular-print":"assets/libs/angular-print/angularPrint",uirouter:"https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/1.0.3/angular-ui-router.min",uibootstrap:["https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/2.3.2/ui-bootstrap-tpls.min","assets/libs/angular-ui-bootstrap/ui-bootstrap-tpls-2.3.2.min"],bootstrap:["https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min","assets/libs/bootstrap-3.3.7/js/bootstrap.min"],oclazyload:["https://cdnjs.cloudflare.com/ajax/libs/oclazyload/1.1.0/ocLazyLoad.require.min",
"assets/libs/ocLazyLoad-require.min"],ngcookies:["https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-cookies.min","assets/libs/angular-1.6.1/angular-cookies"],ngsanitize:["https://ajax.googleapis.com/ajax/libs/angularjs/1.6.1/angular-sanitize.min","assets/libs/angular-1.6.1/angular-sanitize.min"],translate:"assets/libs/angular-translate/angular-translate.min",translate_cookies:"assets/libs/angular-translate-storage-cookie/angular-translate-storage-cookie.min",translate_url:"assets/libs/angular-translate-loader-url/angular-translate-loader-url.min",
angulargrowl:"assets/js/angular-growl/angular-growl.min",jsonh:"assets/js/jsonh",socketio:["https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.0.3/socket.io","assets/libs/socket.io/lib/client.js"],ace:"https://cdnjs.cloudflare.com/ajax/libs/ace/1.2.3/ace",uiace:"assets/libs/angular-ui-ace/ui-ace.min",angulartouch:"assets/libs/angular-touch/angular-touch.min",angularSortable:["https://cdnjs.cloudflare.com/ajax/libs/angular-sortable-view/0.0.15/angular-sortable-view.min","assets/libs/angular-sortable-view.min"],
angularanimate:"assets/libs/angular-animate/angular-animate.min",datetimepicker:"assets/libs/angular-ui-bootstrap-datetimepicker/datetimepicker",fxpicklist:"assets/js/picklist",multiple_select:"assets/libs/multiple-select/multiple-select",angular_tree:"assets/libs/angular-ui-tree/dist/angular-ui-tree.min","angular-split-pane":"assets/js/split-pane/angular-split-pane",nztoggle:"assets/libs/nz-toggle/dist/nz-toggle.min",fileupload:"assets/libs/ng-file-upload/ng-file-upload.min",ngJSPanel:"assets/js/jsPanel/angular-jspanel",
jqJSPanel:"assets/js/jsPanel/jquery.jspanel.min",jqui:["assets/libs/jquery-ui/jquery-ui.min","https://ajax.googleapis.com/ajax/libs/jqueryui/1.9.2/jquery-ui.min"],mobile_detect:"assets/js/mobile-detect.min",app:"app/app",routes:"app/app.routes",directives:"app/app.directives",factories:"app/app.factories",controllers:"app/app.controllers",filters:"app/app.filters",homeCtrl:"app/components/home/home",groupsCtrl:"app/components/groups/groups",studentsCtrl:"app/components/students/students",progressController:"app/components/students/progressController",
activityReviewCtrl:"app/components/activity/activityReview",activitySimpleCtrl:"app/components/activity/activitySimpleCtrl",activitySheetCtrl:"app/components/activity/activitySheet",activityEditCtrl:"app/components/activity/activityEditCtrl",activityIdeCtrl:"app/components/ide/activityIdeCtrl",assignCtrl:"app/components/assign/assignCtrl",assignmentsCtrl:"app/components/assign/assignmentsCtrl",mathjax:["https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML?noext","assets/libs/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"],
mathlex:"activities/libs/math/mathlex/mathlex.min",geogebra:window.pw.GEOGEBRA_ROOT+"scripts/worksheet/general",geogebra2:window.pw.GEOGEBRA_ROOT+"scripts/deployggb",geogebra3:window.pw.GEOGEBRA_ROOT+"files/appComp/shared/min",geogebra4:window.pw.GEOGEBRA_ROOT+"files/appComp/shared/mathquillggb",videojs_core:["assets/js/video.js/5.14/video.min","https://vjs.zencdn.net/5.14/video"],videojs:"assets/js/video.js/5.14/videojs-plugins-all.min",video_embed:"assets/js/video.js/ng-video-embed.min",tinymce:"assets/libs/tinymce/tinymce.min",
ng_tinymce:"assets/libs/angular-ui-tinymce/dist/tinymce.min",hljs:"assets/js/highlightjs/highlight.pack",ng_highlight:"assets/libs/angular-highlight/build/angular-highlightjs.min",easeljs:"https://code.createjs.com/easeljs-0.8.2.min",tweenjs:"https://code.createjs.com/tweenjs-0.6.2.min",soundjs:"https://code.createjs.com/soundjs-0.6.2.min",preloadjs:"https://code.createjs.com/preloadjs-0.6.2.min",createjs:"https://code.createjs.com/createjs-2015.11.26.min",creatine:"assets/js/creatine/creatine-1.0.0.min",
filesaver:"assets/js/FileSaver.min",markermanager:"assets/js/markermanager.min",gmaps:"https://maps.googleapis.com/maps/api/js?key=AIzaSyBQpymLIcE26vpzgp3u6w90OO_aVT1d1R8&noext",ng_idle:"assets/libs/ng-idle/angular-idle.min"},shim:{mathjax:{exports:"MathJax",init:function(){MathJax.Hub.Config({messageStyle:"none",tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]]},"HTML-CSS":{showMathMenu:!1}});MathJax.Hub.Configured();MathJax.Hub.Startup.onload();return MathJax}},underscorestring:{deps:["underscore"],
exports:"_"},uiace:{deps:["ace"]},geogebra:{deps:["geogebra2","geogebra3","geogebra4"]},jsxgraph:{deps:["css!https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.99.6/jsxgraph.css"]},jsxgraphcore:{deps:["css!https://cdnjs.cloudflare.com/ajax/libs/jsxgraph/0.99.6/jsxgraph.css"]},creatine:{deps:["createjs"]},jqui:{deps:["mobile_detect"]},jqJSPanel:{deps:["jqui"]},ngJSPanel:{deps:["jqJSPanel"]},ng_tinymce:{deps:["tinymce"]},ng_highlight:{deps:["hljs"]},markermanager:{deps:["gmaps"]},pokemath:{deps:["markermanager"]},
translate_cookies:{deps:["translate"]},translate_url:{deps:["translate"]},appmin:{deps:"uirouter uibootstrap oclazyload ngcookies ngsanitize translate_cookies translate_url angulargrowl".split(" ")},angular:{exports:"angular"},uirouter:{deps:["angular"]},uibootstrap:{deps:["angular"]},oclazyload:{deps:["angular"]},ngcookies:{deps:["angular"]},ngsanitize:{deps:["angular"]},angularanimate:{deps:["angular"]},translate:{deps:["angular"]},angulargrowl:{deps:["angular"]},ng_idle:{deps:["angular"]},angularSortable:{deps:["angular"]},
angular_locale1:{deps:["angular"]},angular_locale2:{deps:["angular"]},videojs:{deps:["videojs_core"]},video_embed:{deps:["videojs"]},underscore:{exports:"_"},katexauto:{deps:["katex"]},KAS:{deps:["underscore"]},mathpaint:{deps:["canvaspaint"]},mathquilleditor:{deps:["mathquill"],exports:"MQ"},mathinput:{deps:["mathquilleditor","mathpaint"]},"activity-quizz":{deps:["activity-bakejson","mobile-dnd"]}},baseUrl:"",waitSeconds:60});
require(["socketio","appmin"],function(g){window.io=g;0===window.pw.grave?window.pw.app.init():console.log("PiWorld bootstrap cancelled due to grave errors: ",window.pw.grave)});
